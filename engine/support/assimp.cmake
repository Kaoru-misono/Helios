set(assimp_SOURCE_DIR_ ${CMAKE_CURRENT_SOURCE_DIR}/assimp)
set(assimp_INCLUDE_DIR_ 
${CMAKE_CURRENT_SOURCE_DIR}/assimp/include 
${CMAKE_CURRENT_SOURCE_DIR}/assimp/include/assimp 
${CMAKE_CURRENT_SOURCE_DIR}/assimp/contrib/irrXML
${CMAKE_CURRENT_SOURCE_DIR}/assimp/contrib/zlib
${CMAKE_CURRENT_SOURCE_DIR}/assimp/contrib/rapidjson/include
)

file(GLOB assimp_sources CONFIGURE_DEPENDS
"${assimp_SOURCE_DIR_}/code/Assimp.cpp"
"${assimp_SOURCE_DIR_}/code/BaseImporter.cpp"
"${assimp_SOURCE_DIR_}/code/ColladaLoader.cpp"
"${assimp_SOURCE_DIR_}/code/ColladaParser.cpp"
"${assimp_SOURCE_DIR_}/code/CreateAnimMesh.cpp"
"${assimp_SOURCE_DIR_}/code/PlyParser.cpp"
"${assimp_SOURCE_DIR_}/code/PlyLoader.cpp"
"${assimp_SOURCE_DIR_}/code/BaseProcess.cpp"
"${assimp_SOURCE_DIR_}/code/EmbedTexturesProcess.cpp"
"${assimp_SOURCE_DIR_}/code/ConvertToLHProcess.cpp"
"${assimp_SOURCE_DIR_}/code/DefaultIOStream.cpp"
"${assimp_SOURCE_DIR_}/code/DefaultIOSystem.cpp"
"${assimp_SOURCE_DIR_}/code/DefaultLogger.cpp"
"${assimp_SOURCE_DIR_}/code/GenVertexNormalsProcess.cpp"
"${assimp_SOURCE_DIR_}/code/Importer.cpp"
"${assimp_SOURCE_DIR_}/code/ImporterRegistry.cpp"
"${assimp_SOURCE_DIR_}/code/MaterialSystem.cpp"
"${assimp_SOURCE_DIR_}/code/PostStepRegistry.cpp"
"${assimp_SOURCE_DIR_}/code/ProcessHelper.cpp"
"${assimp_SOURCE_DIR_}/code/scene.cpp"
"${assimp_SOURCE_DIR_}/code/ScenePreprocessor.cpp"
"${assimp_SOURCE_DIR_}/code/ScaleProcess.cpp"
"${assimp_SOURCE_DIR_}/code/SGSpatialSort.cpp"
"${assimp_SOURCE_DIR_}/code/SkeletonMeshBuilder.cpp"
"${assimp_SOURCE_DIR_}/code/SpatialSort.cpp"
"${assimp_SOURCE_DIR_}/code/TriangulateProcess.cpp"
"${assimp_SOURCE_DIR_}/code/ValidateDataStructure.cpp"
"${assimp_SOURCE_DIR_}/code/Version.cpp"
"${assimp_SOURCE_DIR_}/code/VertexTriangleAdjacency.cpp"
"${assimp_SOURCE_DIR_}/code/ObjFileImporter.cpp"
"${assimp_SOURCE_DIR_}/code/ObjFileMtlImporter.cpp"
"${assimp_SOURCE_DIR_}/code/ObjFileParser.cpp"
"${assimp_SOURCE_DIR_}/code/glTFImporter.cpp"
"${assimp_SOURCE_DIR_}/code/glTF2Importer.cpp"
"${assimp_SOURCE_DIR_}/code/MakeVerboseFormat.cpp"
"${assimp_SOURCE_DIR_}/code/CalcTangentsProcess.cpp"
"${assimp_SOURCE_DIR_}/code/ScaleProcess.cpp"
"${assimp_SOURCE_DIR_}/code/EmbedTexturesProcess.cpp"
"${assimp_SOURCE_DIR_}/contrib/irrXML/*"
)

add_definitions(
    -ASSIMP_BUILD_NO_OWN_ZLIB
    -ASSIMP_BUILD_NO_X_IMPORTER
    -ASSIMP_BUILD_NO_3DS_IMPORTER
    -ASSIMP_BUILD_NO_MD3_IMPORTER
    -ASSIMP_BUILD_NO_MDL_IMPORTER
    -ASSIMP_BUILD_NO_MD2_IMPORTER
    -ASSIMP_BUILD_NO_ASE_IMPORTER
    -ASSIMP_BUILD_NO_AMF_IMPORTER
    -ASSIMP_BUILD_NO_HMP_IMPORTER
    -ASSIMP_BUILD_NO_SMD_IMPORTER
    -ASSIMP_BUILD_NO_MDC_IMPORTER
    -ASSIMP_BUILD_NO_MD5_IMPORTER
    -ASSIMP_BUILD_NO_STL_IMPORTER
    -ASSIMP_BUILD_NO_LWO_IMPORTER
    -ASSIMP_BUILD_NO_DXF_IMPORTER
    -ASSIMP_BUILD_NO_NFF_IMPORTER
    -ASSIMP_BUILD_NO_RAW_IMPORTER
    -ASSIMP_BUILD_NO_OFF_IMPORTER
    -ASSIMP_BUILD_NO_AC_IMPORTER
    -ASSIMP_BUILD_NO_BVH_IMPORTER
    -ASSIMP_BUILD_NO_IRRMESH_IMPORTER
    -ASSIMP_BUILD_NO_IRR_IMPORTER
    -ASSIMP_BUILD_NO_Q3D_IMPORTER
    -ASSIMP_BUILD_NO_B3D_IMPORTER
    -ASSIMP_BUILD_NO_TERRAGEN_IMPORTER
    -ASSIMP_BUILD_NO_CSM_IMPORTER
    -ASSIMP_BUILD_NO_3D_IMPORTER
    -ASSIMP_BUILD_NO_LWS_IMPORTER
    -ASSIMP_BUILD_NO_OGRE_IMPORTER
    -ASSIMP_BUILD_NO_OPENGEX_IMPORTER
    -ASSIMP_BUILD_NO_MS3D_IMPORTER
    -ASSIMP_BUILD_NO_COB_IMPORTER
    -ASSIMP_BUILD_NO_BLEND_IMPORTER
    -ASSIMP_BUILD_NO_Q3BSP_IMPORTER
    -ASSIMP_BUILD_NO_NDO_IMPORTER
    -ASSIMP_BUILD_NO_IFC_IMPORTER
    -ASSIMP_BUILD_NO_XGL_IMPORTER
    -ASSIMP_BUILD_NO_FBX_IMPORTER
    -ASSIMP_BUILD_NO_ASSBIN_IMPORTER
    -ASSIMP_BUILD_NO_C4D_IMPORTER
    -ASSIMP_BUILD_NO_3MF_IMPORTER
    -ASSIMP_BUILD_NO_X3D_IMPORTER
    -ASSIMP_BUILD_NO_MMD_IMPORTER
    -ASSIMP_BUILD_NO_STEP_EXPORTER
    -ASSIMP_BUILD_NO_SIB_IMPORTER
    -ASSIMP_BUILD_NO_JOINVERTICES_PROCESS
    -ASSIMP_BUILD_NO_GENFACENORMALS_PROCESS
    -ASSIMP_BUILD_NO_REMOVEVC_PROCESS
    -ASSIMP_BUILD_NO_SPLITLARGEMESHES_PROCESS
    -ASSIMP_BUILD_NO_PRETRANSFORMVERTICES_PROCESS
    -ASSIMP_BUILD_NO_LIMITBONEWEIGHTS_PROCESS
    -ASSIMP_BUILD_NO_IMPROVECACHELOCALITY_PROCESS
    -ASSIMP_BUILD_NO_FIXINFACINGNORMALS_PROCESS
    -ASSIMP_BUILD_NO_REMOVE_REDUNDANTMATERIALS_PROCESS
    -ASSIMP_BUILD_NO_FINDINVALIDDATA_PROCESS
    -ASSIMP_BUILD_NO_FINDDEGENERATES_PROCESS
    -ASSIMP_BUILD_NO_SORTBYPTYPE_PROCESS
    -ASSIMP_BUILD_NO_GENUVCOORDS_PROCESS
    -ASSIMP_BUILD_NO_TRANSFORMTEXCOORDS_PROCESS
    -ASSIMP_BUILD_NO_FINDINSTANCES_PROCESS
    -ASSIMP_BUILD_NO_OPTIMIZEMESHES_PROCESS
    -ASSIMP_BUILD_NO_OPTIMIZEGRAPH_PROCESS
    -ASSIMP_BUILD_NO_SPLITBYBONECOUNT_PROCESS
    -ASSIMP_BUILD_NO_DEBONE_PROCESS
    -ASSIMP_BUILD_NO_EMBEDTEXTURES_PROCESS
    -ASSIMP_BUILD_NO_GLOBALSCALE_PROCESS
)

add_library(assimp STATIC ${assimp_sources} ${CMAKE_CURRENT_SOURCE_DIR}/assimp/include )
target_include_directories(assimp PUBLIC ${assimp_INCLUDE_DIR_})